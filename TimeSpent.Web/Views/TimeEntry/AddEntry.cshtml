@model TimeSpent.Web.Models.TimeEntryModel
@{
    ViewBag.Title = "Add Time Entry";
    ViewBag.Name = "AddTimeEntry";
}

@section scripts
{
    <script src="@Url.Content("~/Binding/Models/TimeEntryModel.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Binding/ViewModels/AddEntryViewModel.js")" , type="text/javascript"></script>
}

<section class="content-header">
    <h1>
        Add Time Entry
    </h1>
    <ol class="breadcrumb">
        <li><a href="@Url.Content("~")"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="@Url.Action("Index", "TimeEntry")"><i class="fa fa-links"></i>Time Entry List</a></li>
        <li class="active">Add Time Entry</li>
    </ol>
</section>

<section class="content" id="mainbody">
    <div class="box box-primary col-md-9" ng-controller="AddEntryViewModel" ng-cloak>
        @*<div class="box-header with-border">
                <h3 class="box-title">Time Entry</h3>
            </div>*@
        @Html.Partial("~/Views/Shared/_ValidationErrors.cshtml")
        <!-- /.box-header -->
        <!-- form start -->
        <form role="form">
            <div class="box-body">
                <div class="form-group">
                    <label for="Description">Description</label>
                    <input type="text" class="form-control" id="Description" ng-model="addEntryModel.Description" placeholder="Enter Description">
                </div>
                <div class="form-group">
                    <label for="Duration">Duration</label>
                    <input type="text"  class="form-control" id="Duration" ng-model="addEntryModel.Duration" placeholder="Enter Duration">
                </div>
                <p class="form-group">
                    <label for="Name">Category</label>
                    <select class="form-control" name="categorySelect" id="categorySelect" ng-model="addEntryModel.CategoryId">
                        <option ng-repeat="item in categories" value="{{item.CategoryId}}">{{item.Name}}</option>
                    </select>
                </p>

                <p class="form-group">
                    <label for="Name">Project</label>
                    <select class="form-control" name="projectSelect" id="projectSelect" ng-model="addEntryModel.ProjectId">
                        <option ng-repeat="p in projects" value="{{p.ProjectId}}">{{p.Name}}</option>
                    </select>

                </p>


                <div class="form-group">
                    <label for="Name">Date</label>
                    <div class="row">
                        <div class="col-xs-4">
                            <p class="input-group">
                                <input type="text" ng-model="addEntryModel.Date" class="form-control"
                                       datepicker-popup="MM/dd/yyyy" is-open="openedEntry" />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="openDate($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>

                            </p>
                        </div>
                    </div>
               </div>
                
     </div>

    <div class="box-footer">
        <button type="button" class="btn btn-primary" ng-click="submit()">Add Time Entry</button>
    </div>
    </form>
    </div>
</section>

