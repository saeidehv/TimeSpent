@model TimeSpent.Web.Models.AccountChangePasswordModel
@{
    ViewBag.Title = "Account Change Password";
}
@section scripts
{
    <script src="@Url.Content("~/Binding/Models/AccountChangePasswordModel.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Binding/ViewModels/AccountChangePasswordViewModel.js")" type="text/javascript"></script>
}

<section class="content-header">
    <h1>
        Change Password
    </h1>
    <ol class="breadcrumb">
        <li><a href="@Url.Content("~")"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Change Password</li>
    </ol>
</section>

<section class="content" id="mainbody">
    <div ng-controller="AccountChangePasswordViewModel" ng-init="passwordModel.LoginEmail = '@User.Identity.Name'" class="box box-primary col-md-9" ng-cloak>

        @Html.Partial("~/Views/Shared/_ValidationErrors.cshtml")
        <form role="form">
            <div class="box-body">
                <div ng-switch="viewMode">

                    <div ng-switch-when="changepw">

                        <p class="form-group" style="width: 400px;">
                            <label for="passwordInput">Old Password:</label>
                            <input id="passwordInput" type="password" class="form-control" ng-model="passwordModel.OldPassword" placeholder="old password" />
                        </p>
                        <p class="form-group" style="width: 400px;">
                            <label for="newPasswordInput">New Password:</label>
                            <input id="newPasswordInput" type="password" class="form-control" ng-model="passwordModel.NewPassword" placeholder="new password" />
                        </p>

                        <p>
                            <button type="button" class="btn btn-info" ng-click="changePassword()">Change Password</button>
                            <button type="button" class="btn btn-info" ng-click="cancel()">Cancel</button>
                        </p>
                    </div>
                    <div ng-switch-when="success">
                        <h2>Password changed - thank you.</h2>
                    </div>
                </div>

            </div>
        </form>
    </div>

</section>
